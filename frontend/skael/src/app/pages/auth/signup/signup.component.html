<section class="auth-section">
  <md-progress-bar mode="indeterminate" *ngIf="isLoading"></md-progress-bar>
  <div class="container">
    <div class="row">
      <div class="col-sm-6 col-md-4 auth-box">
        <img src="assets/images/logo.png" class="img-logo">
        <h1 class="text-center login-title">Sign Up</h1>
        <div class="account-wall">
          <form class="form-auth" #f="ngForm" (ngSubmit)="f.form.valid && signup()" novalidate>
            <div class="form-group mb-4" [class.has-danger]="error.isError">
              <input type="text" class="form-control" [class.form-control-danger]="error.isError" placeholder="Username" name="username" [(ngModel)]="user.username" required autofocus>
              <div class="form-control-feedback" *ngIf="error.isError">{{error.message}}</div>
            </div>
            <div class="form-group mb-4" [class.has-danger]="error.isError">
              <input type="text" class="form-control" [class.form-control-danger]="error.isError" placeholder="Email address" name="email" [(ngModel)]="user.email" required autofocus>
            </div>
            <div class="form-group mb-4" [class.has-danger]="error.isError">
              <input type="password" class="form-control" [class.form-control-danger]="error.isError" placeholder="Password" name="password" [(ngModel)]="user.plaintext_password" required>
            </div>
            <button md-raised-button class="btn btn-lg btn-info btn-block" type="submit" [disabled]="!f.form.valid">Sign up</button>
          </form>
        </div>
        <div class="mt-lg-5"><span>Already have an account?</span><a routerLink="/login" class="ml-1"> Sign in</a></div>
      </div>
    </div>
  </div>
</section>
